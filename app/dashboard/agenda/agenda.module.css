:root {
  --c-cyan: rgba(56, 189, 248, 1);
  --c-purple: rgba(167, 139, 250, 1);
  --c-pink: rgba(244, 114, 182, 1);
  --c-orange: rgba(251, 146, 60, 1);
}

.page {
  min-height: 100vh;
  padding: 18px 18px 40px;
  background:
    radial-gradient(900px 520px at 12% 8%, rgba(56, 189, 248, 0.18), transparent 62%),
    radial-gradient(900px 520px at 90% 12%, rgba(167, 139, 250, 0.18), transparent 62%),
    radial-gradient(900px 520px at 55% 92%, rgba(251, 146, 60, 0.12), transparent 64%),
    radial-gradient(700px 420px at 28% 78%, rgba(244, 114, 182, 0.12), transparent 64%),
    linear-gradient(180deg, #0b1026 0%, #090e22 35%, #080b1c 100%);
  color: rgba(255, 255, 255, 0.92);
}

.wrap {
  max-width: 1220px;
  margin: 0 auto;
}

/* Header aligned with other iNrCy modules */
.header{
  display:flex;
  align-items:flex-start;
  justify-content: space-between;
  gap: 14px;
  padding: 12px 0 16px;
}

.brand{
  display:flex;
  flex-direction: row;
  align-items:center;
  gap: 10px;
  min-width: 0;
}

.brandText{
  display:flex;
  flex-direction: column;
  min-width: 0;
}

.brandRow{
  display:flex;
  align-items: baseline;
  gap: 12px;
  flex-wrap: wrap;
}

.headerActions{
  display:flex;
  align-items:center;
  gap: 10px;
}

.btnGhost{
  display:inline-flex;
  align-items:center;
  gap: 8px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.06);
  color: rgba(255,255,255,0.92);
  cursor: pointer;
  transition: transform .15s ease, background .15s ease, border-color .15s ease;
}

.btnGhost:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,0.09);
  border-color: rgba(255,255,255,0.20);
}

.iconOnlyBtn{
  width: 44px;
  height: 44px;
  padding: 0;
  border-radius: 14px;
  justify-content: center;
  gap: 0;
  font-size: 18px;
  line-height: 1;
}

.srOnly{
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.tagline{
  font-size: clamp(10px, 3.2vw, 14px);
  color: rgba(255,255,255,0.68);
  line-height: 1.25;
  white-space: nowrap;
  overflow: visible;
  text-overflow: clip;
}



.closeBtn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap: 8px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.06);
  color: rgba(255, 255, 255, 0.92);
  cursor: pointer;
  transition: transform 0.15s ease, background 0.15s ease, border-color 0.15s ease;
}

.closeBtn:hover{
  transform: translateY(-1px);
  background: rgba(255, 255, 255, 0.09);
  border-color: rgba(255, 255, 255, 0.2);
}

.closeText{ display:inline; }
.closeIcon{ display:none; font-size: 18px; line-height: 1; }

.topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
  padding: 12px 0 16px;
}

.titleRow {
  display: grid;
  gap: 4px;
  line-height: 1.1;
  min-width: 0;
}

.h1 {
  font-size: 18px;
  font-weight: 950;
  letter-spacing: -0.3px;
}

.sub {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.68);
}

.actions {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.btnGhost {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.06);
  color: rgba(255, 255, 255, 0.92);
  cursor: pointer;
  transition: transform 0.15s ease, background 0.15s ease, border-color 0.15s ease;
  text-decoration: none;
}

.btnGhost:hover {
  transform: translateY(-1px);
  background: rgba(255, 255, 255, 0.09);
  border-color: rgba(255, 255, 255, 0.2);
}

.btnPrimary {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: #0b1020;
  cursor: pointer;
  background: rgba(255, 255, 255, 0.92);
  box-shadow: 0 18px 50px rgba(0, 0, 0, 0.32);
  transition: transform 0.15s ease, opacity 0.15s ease;
  font-weight: 900;
}

.btnPrimary:hover {
  transform: translateY(-1px);
  opacity: 0.95;
}

.btnIcon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.06);
  color: rgba(255, 255, 255, 0.92);
  cursor: pointer;
  transition: transform 0.15s ease, background 0.15s ease, border-color 0.15s ease;
}

.btnIcon:hover {
  transform: translateY(-1px);
  background: rgba(255, 255, 255, 0.09);
  border-color: rgba(255, 255, 255, 0.2);
}

.layout {
  display: grid;
  grid-template-columns: 1fr 380px;
  gap: 14px;
}

.card {
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.06);
  backdrop-filter: blur(12px);
  box-shadow: 0 18px 50px rgba(0, 0, 0, 0.28);
  overflow: hidden;
}

.cardHeader {
  text-align: center;
  padding: 12px 14px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  gap: 6px;
}

.headerControls{
  width: 100%;
  display:flex;
  align-items:center;
  gap: 8px;
  flex-wrap: nowrap;
  justify-content: center;
}


.headerControls > *{
  flex: 0 0 auto;
}

.monthLabel {
  font-weight: 950;
  letter-spacing: -0.2px;
}

.rangeHint {
  font-size: 12px;
  color: rgba(255, 255, 255, 0.64);
}

.calendar {
  padding: 12px;
}

.dowRow {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 8px;
  margin-bottom: 8px;
}

.dow {
  font-size: 12px;
  font-weight: 900;
  color: rgba(255, 255, 255, 0.62);
  letter-spacing: 0.2px;
  padding: 0 6px;
}

.grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 8px;
}

.day {
  min-height: 112px;
  border-radius: 16px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.04));
  padding: 10px;
  cursor: pointer;
  position: relative;
  transition: transform 0.12s ease, border-color 0.12s ease, background 0.12s ease;
}

.day:hover {
  transform: translateY(-1px);
  border-color: rgba(255, 255, 255, 0.2);
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.04));
}

.dayOutside {
  opacity: 0.55;
}

.dayNumWrap{
  display:flex;
  flex-direction: column;
  align-items:flex-start;
  gap: 4px;
}

.dayNumRow{
  display:flex;
  align-items:center;
  gap: 6px;
}

.dayNumBubble{
  font-weight: 950;
  font-size: 12px;
  color: rgba(255, 255, 255, 0.86);
}

.hasEventsDot{
  width: 6px;
  height: 6px;
  border-radius: 999px;
  background: rgba(56, 189, 248, 0.95);
  box-shadow: 0 0 0 4px rgba(56, 189, 248, 0.10);
}

.pillToday {
  position: static;
  font-size: 10px;
  font-weight: 900;
  padding: 3px 8px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.08);
  line-height: 1;
}

.daySelected {
  border-color: rgba(56, 189, 248, 0.45);
  box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.2) inset;
}

.chips {
  margin-top: 8px;
  display: grid;
  gap: 6px;
}

.chip {
  font-size: 12px;
  line-height: 1.2;
  padding: 7px 8px;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.06);
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.chipAllDay {
  border-color: rgba(255, 255, 255, 0.18);
  background: rgba(255, 255, 255, 0.08);
}

.chipMore {
  font-size: 12px;
  color: rgba(255, 255, 255, 0.7);
  padding: 2px 2px 0;
}

.accentCyan {
  box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.25) inset;
  border-color: rgba(56, 189, 248, 0.25);
}

.accentPurple {
  box-shadow: 0 0 0 1px rgba(167, 139, 250, 0.25) inset;
  border-color: rgba(167, 139, 250, 0.25);
}

.accentPink {
  box-shadow: 0 0 0 1px rgba(244, 114, 182, 0.25) inset;
  border-color: rgba(244, 114, 182, 0.25);
}

.accentOrange {
  box-shadow: 0 0 0 1px rgba(251, 146, 60, 0.25) inset;
  border-color: rgba(251, 146, 60, 0.25);
}

.sidebarBody {
  padding: 12px;
}

.sideTitle {
  font-weight: 950;
  letter-spacing: -0.2px;
  margin-bottom: 8px;
}

.meta {
  font-size: 12px;
  color: rgba(255, 255, 255, 0.68);
  margin-bottom: 12px;
}

.search {
  width: 100%;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.06);
  color: rgba(255, 255, 255, 0.92);
  outline: none;
}

.search::placeholder {
  color: rgba(255, 255, 255, 0.55);
}

.list {
  margin-top: 10px;
  display: grid;
  gap: 10px;
}

.eventRow {
  border-radius: 16px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.06);
  padding: 10px 12px;
}

.eventTitle {
  font-weight: 950;
  letter-spacing: -0.1px;
  margin-bottom: 4px;
}

.eventSub {
  font-size: 12px;
  color: rgba(255, 255, 255, 0.72);
}

.eventLink {
  display: inline-block;
  margin-top: 6px;
  font-size: 12px;
  color: rgba(56, 189, 248, 0.95);
  text-decoration: none;
}

.eventLink:hover {
  text-decoration: underline;
}

.empty {
  font-size: 13px;
  color: rgba(255, 255, 255, 0.72);
  padding: 10px 0;
}

.center {
  padding: 22px 0;
}

.notice {
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.06);
  padding: 16px;
  max-width: 720px;
}

@media (max-width: 980px) {
  .page {
    padding: 14px 12px 28px;
  }

  .topbar {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
    padding: 10px 0 12px;
  }

  .layout {
    grid-template-columns: 1fr;
  }

  /* Mobile header: show ✕ only */
  .closeText{ display:none; }
  .closeIcon{ display:inline; }

  /* Mobile calendar: compact "bubbles" per day */
  .day{
    min-height: 52px;
    padding: 0;
    display:flex;
    align-items:center;
    justify-content:center;
    border-radius: 18px;
    /* one bubble only: remove the outer day bubble */
    border: 0;
    background: transparent;
  }

  .dayNumWrap{
    gap: 6px;
  }

  .dayNumBubble{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    min-width: 34px;
    height: 34px;
    padding: 0 10px;
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,0.14);
    background: rgba(255,255,255,0.06);
    font-size: 13px;
  }

  /* Mobile: selection highlight on the number bubble */
  .daySelected{
    box-shadow: none;
  }
  .daySelected .dayNumBubble{
    border-color: rgba(56, 189, 248, 0.55);
    box-shadow: 0 0 0 4px rgba(56, 189, 248, 0.10);
  }

  .pillToday{ display:none; }
  .chips{ display:none; }
}

  /* Mobile: la bille "événements" ne doit plus décaler la grille */
  .dayNumRow{
    position: relative;
    gap: 0; /* on supprime l'espace réservé à la bille */
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  /* Mobile: la bille se place DANS la bulle, sous le nombre */
  .hasEventsDot{
    position: absolute;
    left: 50%;
    bottom: 6px;              /* ajuste si tu la veux plus haut/bas */
    transform: translateX(-50%);
    pointer-events: none;
  }


/* --- RDV modal form helpers --- */
.field{display:grid;gap:8px}
.label{font-size:12px;font-weight:800;color:rgba(255,255,255,0.85)}
.input{width:100%;border-radius:12px;border:1px solid rgba(255,255,255,0.14);background:rgba(255,255,255,0.04);padding:10px 12px;color:white;outline:none;height:42px;line-height:20px}
.textarea{width:100%;border-radius:12px;border:1px solid rgba(255,255,255,0.14);background:rgba(255,255,255,0.04);padding:10px 12px;color:white;outline:none;min-height:110px;resize:vertical}


/* --- Contact/Coordonnées block (Agenda ↔ CRM) --- */
.contactRow{
  display:flex;
  align-items:flex-end;
  gap:10px;
  flex-wrap: wrap;
}

.coordsBlock{
  margin-top: 10px;
  padding: 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.03);
}

.coordsTitle{
  font-size: 12px;
  font-weight: 900;
  letter-spacing: -0.2px;
  color: rgba(255,255,255,0.88);
  margin-bottom: 10px;
}

.importantToggle{
  display:flex;
  align-items:center;
  gap:8px;
  user-select:none;
  font-size: 12px;
  font-weight: 800;
  color: rgba(255,255,255,0.85);
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.04);
  height: 42px;
}
.importantToggle input{ transform: translateY(1px); }
.btnDanger{border:1px solid rgba(248,113,113,0.55);background:rgba(248,113,113,0.12);color:white;border-radius:14px;padding:10px 12px;font-weight:900;cursor:pointer}

/* --- Modal --- */
.modalOverlay{
  position:fixed;inset:0;z-index:50;
  background:rgba(0,0,0,0.55);
  display:flex;align-items:center;justify-content:center;
  padding:18px;
}

.modal{
  width:min(920px, 100%);
  max-height:85vh;
  overflow:auto;
  border-radius:18px;
  border:1px solid rgba(255,255,255,0.16);
  background:rgba(15,20,45,0.92);
  backdrop-filter: blur(14px);
  box-shadow:0 28px 70px rgba(0,0,0,0.55);
}

.modalHeader{
  padding:12px 14px;
  border-bottom:1px solid rgba(255,255,255,0.12);
  display:flex;align-items:center;justify-content:space-between;gap:10px;
}

.modalBody{padding:14px}

.modalFooter{
  padding:12px 14px;
  border-top:1px solid rgba(255,255,255,0.12);
  display:flex;align-items:center;justify-content:space-between;gap:12px;
}

.modalError{
  border-radius:14px;
  border:1px solid rgba(248,113,113,0.45);
  background:rgba(248,113,113,0.10);
  padding:10px 12px;
  font-size:13px;
  color:rgba(255,255,255,0.92);
  margin-bottom:10px;
}


/* --- Panneau Réglages (drawer à droite) --- */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.55);
  backdrop-filter: blur(6px);
  display: flex;
  justify-content: flex-end;
  z-index: 9999;
}

.settingsPanel {
  width: min(420px, 92vw);
  height: 100%;
  border-left: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(15, 18, 40, 0.85);
  box-shadow: -20px 0 60px rgba(0, 0, 0, 0.35);
  padding: 14px;
  display: flex;
  flex-direction: column;
}

.settingsHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding-bottom: 10px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.settingsTitle {
  font-weight: 950;
  letter-spacing: -0.2px;
}

.settingsBody {
  padding-top: 12px;
  overflow: auto;
}

.settingsItem {
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.05);
  border-radius: 16px;
  padding: 12px;
}


/* === Sidebar header centered redesign === */
.sideHeaderCentered{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  gap:8px;
  padding:16px 12px 6px;
}

.sideDate{
  font-size:18px;
  font-weight:600;
  text-transform:capitalize;
}

.sideEventsCount{
  font-size:13px;
  opacity:.75;
}

.btnPrimaryWide{
  width:100%;
  max-width:220px;
  padding:10px 16px;
  border-radius:12px;
}

/* make button slightly thinner on mobile */
@media (max-width:760px){
  .btnPrimaryWide{
    padding:8px 14px;
    max-width:200px;
  }
}


/* === Fix select dropdown (white on white) in dark modal === */
.input option{
  background: rgba(10,14,28,0.98);
  color: rgba(255,255,255,0.95);
}

/* Some browsers render <select> popup using <optgroup>/<option> defaults */
.input optgroup{
  background: rgba(10,14,28,0.98);
  color: rgba(255,255,255,0.95);
}

/* === Important bubble button for + Intervention === */
.btnBubble{
  background: linear-gradient(135deg, rgba(77,163,255,0.95), rgba(162,79,255,0.92), rgba(255,72,164,0.85));
  border: 1px solid rgba(255,255,255,0.18);
  box-shadow: 0 10px 30px rgba(0,0,0,0.35);
  font-weight: 800;
  letter-spacing: 0.2px;
}

.btnBubble:hover{
  transform: translateY(-1px);
  filter: brightness(1.04);
}

.btnBubble:active{
  transform: translateY(0px);
  filter: brightness(0.98);
}

/* Divider between header action and day details */
.sideDivider{
  width: 100%;
  max-width: 260px;
  height: 1px;
  background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,0.20), rgba(255,255,255,0));
  margin-top: 6px;
}


/* --- Header actions: desktop vs mobile --- */
.desktopOnly{ display: flex; }
.mobileOnly{ display: none; }

.headerSearch{
  display:flex;
  align-items:center;
  gap:10px;
}

.headerSearchInput{
  height: 38px;
  min-width: 260px;
  padding: 0 12px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.25);
  color: rgba(255,255,255,0.92);
  outline: none;
}

.headerSearchInput::placeholder{
  color: rgba(255,255,255,0.55);
}

.headerBtnText{
  height: 38px;
  padding: 0 12px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.06);
  color: rgba(255,255,255,0.92);
  font-weight: 800;
}

.headerBtnText:hover{
  background: rgba(255,255,255,0.09);
}

.mobileSearchBar{
  margin-top: 10px;
  width: 100%;
  margin-bottom: 12px;
}


.mobileSearchBar input{
  width: 100%;
}

@media (max-width: 720px){
  .desktopOnly{ display: none; }
  .mobileOnly{ display: flex; gap: 8px; align-items: center; }
  .headerActions{
    gap: 8px;
  }

  /* Mobile: accroche sous le logo (1 ligne) */
  .brand{
    flex-direction: column;
    align-items: flex-start;
    gap: 6px;
  }

  .tagline{
    max-width: 100%;
  }
}


/* Desktop: prevent page scroll (tout visible, pas de scroll global) */
@media (min-width: 900px){
  .page{
    height: 100vh;
    overflow: hidden;
    padding-bottom: 18px;
  }

  .wrap{
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  .layout{
    flex: 1;
    min-height: 0;
  }

  .layout > .card{
    height: 100%;
  }
}


/* Mobile: keep tagline on one line */
@media (max-width: 520px){
  .tagline{
    font-size: 13px;
  }
}
